# src/test/resources/serenity.conf

serenity {
  test.root = "com.proyectoSerenity.stepDefinitions"
  take.screenshots = AFTER_EACH_STEP
}

webdriver {
  driver = chrome
}

chrome {
  arguments = [
    "--incognito",                    # Modo incógnito
    "--start-maximized",              # Abrir maximizado
    "--disable-extensions",           # Desactivar extensiones
    "--disable-popup-blocking",       # Bloqueo de popups
    "--disable-notifications",        # Bloquear notificaciones
    "--no-default-browser-check",     # Sin verificación de navegador por defecto
    "--disable-save-password-bubble", # No preguntar guardar contraseña
    "--disable-infobars"              # Ocultar info bars
  ]

  preferences {
    "credentials_enable_service" = false
    "profile.password_manager_enabled" = false
    "autofill.profile_enabled" = false
  }

  # Perfil temporal único para cada ejecución
  # Esto fuerza que Chrome no reutilice perfiles existentes
  user-data-dir = "C:\\temp\\chrome-profile-${random.uuid}"
}

environments {
  default {
    webdriver.base.url = "https://www.saucedemo.com"
  }
}
